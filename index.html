<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#4f46e5" />
  <title>Haskoop V2 ‚Äì Ye≈üilovacƒ±k ‚áÑ Silifke Dolmu≈ü Hatlarƒ±</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* ====== V2 TASARIM Sƒ∞STEMƒ∞ ====== */
    :root {
      --primary: #4f46e5;
      --primary-2: #6366f1;
      --accent: #f59e0b;
      --success: #10b981;
      --bg: #f8fafc;
      --card-bg: #ffffff;
      --text: #1e293b;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --radius-md: 12px;
      --radius-lg: 20px;
      --shadow-md: 0 4px 6px -1px rgba(0,0,0,.07), 0 2px 4px -2px rgba(0,0,0,.07);
      --shadow-lg: 0 10px 15px -3px rgba(0,0,0,.07), 0 4px 6px -4px rgba(0,0,0,.07);
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      --header-h: 70px;
    }

    [data-theme="dark"] {
      --primary: #6366f1;
      --primary-2: #818cf8;
      --accent: #facc15;
      --bg: #111827;
      --card-bg: #1f2937;
      --text: #f9fafb;
      --text-muted: #9ca3af;
      --border: #374151;
    }

    /* ====== TEMEL STƒ∞LLER & ANƒ∞MASYONLAR ====== */
    *, *::before, *::after { box-sizing: border-box; transition: background-color .3s ease, color .3s ease, border-color .3s ease; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: var(--font-sans);
      color: var(--text);
      background-color: var(--bg);
      background-image: radial-gradient(circle at 1px 1px, var(--border) 1px, transparent 0);
      background-size: 20px 20px;
      line-height: 1.6;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* ====== √úST MEN√ú (HEADER) ====== */
    header {
      position: sticky; top: 0; z-index: 50;
      background-color: rgba(255,255,255,0.7);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    }
    [data-theme="dark"] header { background-color: rgba(31,41,55,0.7); }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    .head { height: var(--header-h); display: flex; align-items: center; justify-content: space-between; gap: 16px; }
    .brand { display: flex; align-items: center; gap: 12px; font-weight: 800; font-size: 22px; color: var(--primary); }
    .brand-badge { width: 40px; height: 40px; border-radius: var(--radius-md); background: linear-gradient(135deg, var(--primary), var(--primary-2)); display: grid; place-items: center; color: #fff; font-size: 22px; }
    
    .theme-toggle { background: none; border: 1px solid var(--border); border-radius: 99px; cursor: pointer; padding: 6px; display: flex; align-items: center; }
    .theme-toggle .sun { display: block; } .theme-toggle .moon { display: none; }
    [data-theme="dark"] .theme-toggle .sun { display: none; } [data-theme="dark"] .theme-toggle .moon { display: block; }

    /* ====== HERO ALANI ====== */
    .hero { text-align: center; padding: 60px 20px; animation: fadeIn .6s ease both; }
    .hero h1 {
      margin: 0 0 12px; font-size: clamp(32px, 5vw, 48px); font-weight: 800;
      background: linear-gradient(135deg, var(--primary), var(--primary-2));
      -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
    }
    .route-pill { display: inline-flex; align-items: center; gap: 10px; border: 1px solid var(--border); border-radius: 999px; padding: 10px 16px; background-color: var(--card-bg); font-weight: 700; box-shadow: var(--shadow-md); }
    .today { margin-top: 16px; color: var(--text-muted); font-size: 18px; }

    /* ====== HIZLI ERƒ∞≈ûƒ∞M (QUICK) ====== */
    .quick { margin: 16px auto 28px; padding: 0 20px; max-width: 1200px; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; animation: fadeIn .6s .2s ease both; }
    .q { display: flex; align-items: center; gap: 16px; background-color: var(--card-bg); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 20px; text-align: left; box-shadow: var(--shadow-md); cursor: pointer; text-decoration: none; color: var(--text); transition: transform .2s ease, box-shadow .2s ease; }
    .q:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
    .q .icon { display: grid; place-items: center; width: 48px; height: 48px; flex-shrink: 0; border-radius: var(--radius-md); background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: #fff; }
    .q .icon svg { width: 28px; height: 28px; }

    /* ====== B√ñL√úMLER (SECTION) ====== */
    section { scroll-margin-top: calc(var(--header-h) + 20px); animation: fadeIn .6s .4s ease both; }
    .section { max-width: 1200px; margin: 0 auto; padding: 24px 20px; }
    .section h2 { font-size: 28px; margin: 0 0 20px; }
    .card { background-color: var(--card-bg); border-radius: var(--radius-lg); box-shadow: var(--shadow-md); border: 1px solid var(--border); }
    
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; padding: 18px; }
    @media (max-width: 768px) {
      .two-col { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; gap: 12px; padding: 12px 12px 20px; }
      .panel { flex: 0 0 95%; scroll-snap-align: start; }
    }
    
    .col { display: flex; flex-direction: column; gap: 16px; }
    .col-head { position: sticky; top: var(--header-h); z-index: 5; background-color: var(--card-bg); padding: 14px; border-radius: var(--radius-md); border: 1px dashed var(--border); }
    .col-head b { font-size: 18px; } .col-head small { color: var(--text-muted); display: block; font-size: 14px; }

    .period { border: 1px solid var(--border); border-radius: var(--radius-md); padding: 16px; }
    .period h3 { display: flex; align-items: center; gap: 10px; margin: 0 0 12px; font-size: 18px; }
    .time-list { list-style: none; margin: 0; padding: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; }
    .time { position: relative; background-color: var(--bg); border: 1px solid var(--border); border-radius: var(--radius-md); padding: 14px 10px; text-align: center; font-weight: 800; font-size: clamp(20px, 3vw, 22px); cursor: pointer; transition: transform .2s ease, box-shadow .2s ease; }
    .time:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); border-color: var(--primary); }
    .time .tag { display:inline-block; margin-left:8px; padding:3px 8px; border-radius:6px; background: var(--accent); color:#111; font-weight:800; font-size:12px; vertical-align: middle; }
    .time.next { background: var(--primary); color: #fff; border-color: var(--primary-2); animation: pulse 2s infinite; }
    @keyframes pulse { 0%{ box-shadow: 0 0 0 0 rgba(99,102,241,.7);} 70%{ box-shadow: 0 0 0 10px rgba(99,102,241,0);} 100%{ box-shadow: 0 0 0 0 rgba(99,102,241,0);} }
    .legend { font-size: 16px; margin-top: 10px; color: var(--text-muted); }

    /* ====== BUTONLAR & KONTROLLER ====== */
    .btn { border: 1px solid var(--border); background-color: var(--card-bg); border-radius: 8px; padding: 10px 16px; font-weight: 600; cursor: pointer; transition: background-color .2s ease, border-color .2s ease; font-family: var(--font-sans); }
    .btn:hover { border-color: var(--primary); background-color: var(--primary-2); color: #fff; }
    .routechips .btn[aria-pressed="true"] { border-color: var(--primary); background: var(--primary); color: #fff; }
    
    .segment { display: flex; gap: 8px; padding: 4px; border-radius: 10px; background-color: var(--bg); border: 1px solid var(--border); }
    .segbtn { width: 100%; border: 1px solid transparent; background: none; border-radius: 8px; padding: 10px 12px; font-weight: 700; font-size: 15px; cursor:pointer; color: var(--text-muted); }
    .segbtn[aria-pressed="true"] { background: var(--card-bg); border-color: var(--border); color: var(--text); box-shadow: var(--shadow-md); }
    
    .time.dimmed { opacity: 0.4; pointer-events: none; }

    /* ====== √úCRET TABLOSU & Dƒ∞ƒûERLERƒ∞ ====== */
    .fare-table { width: 100%; border-collapse: collapse; font-size: 16px; }
    .fare-table th, .fare-table td { border: 1px solid var(--border); padding: 14px; text-align: left; }
    .fare-table th { background-color: var(--bg); font-weight: 700; }
    .contact-card { background-color: var(--bg); border: 1px solid var(--border); border-radius: var(--radius-md); padding: 20px; text-align: center; }
    .contact-card b { font-size: 18px; display: block; margin-bottom: 4px; }
    footer { margin-top: 40px; background: var(--card-bg); border-top: 1px solid var(--border); color: var(--text-muted); text-align: center; padding: 30px 20px; }

  </style>
</head>
<body data-theme="light">
  <header>
    <div class="wrap head">
      <div class="brand"><span class="brand-badge">üöê</span> Haskoop V2</div>
      <button class="theme-toggle" id="themeToggle" title="Temayƒ± Deƒüi≈ütir">
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
      </button>
    </div>
  </header>

  <main>
    <div class="hero">
      <h1>Ye≈üilovacƒ±k ‚áÑ Silifke Dolmu≈ü Hattƒ±</h1>
      <div class="route-pill">üöê Ye≈üilovacƒ±k <span>‚ûî</span> Silifke üèôÔ∏è</div>
      <div class="today" id="today"></div>
    </div>

    <nav class="quick" aria-label="Hƒ±zlƒ± Eri≈üim">
      <a class="q" href="#saatler">
        <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div>
        <div><b>Sefer Saatleri</b><div style="color:var(--text-muted); font-size: 15px;">Kalkƒ±≈ü saatlerini g√∂r√ºn</div></div>
      </a>
      <a class="q" href="#ucretler">
        <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg></div>
        <div><b>√úcret Tarifesi</b><div style="color:var(--text-muted); font-size: 15px;">G√ºncel fiyatlarƒ± √∂ƒürenin</div></div>
      </a>
      <a class="q" href="#iletisim">
        <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg></div>
        <div><b>ƒ∞leti≈üim</b><div style="color:var(--text-muted); font-size: 15px;">Duraklara ula≈üƒ±n</div></div>
      </a>
    </nav>

    <section id="saatler" class="section">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 16px;">
          <h2>G√ºnl√ºk Sefer Saatleri</h2>
          <div class="segment" id="seasonToggle">
              <button class="segbtn" data-season="yaz" type="button" aria-pressed="true">Yaz Tarifesi</button>
              <button class="segbtn" data-season="kis" type="button" aria-pressed="false">Kƒ±≈ü Tarifesi</button>
          </div>
      </div>
      <div class="routechips" id="stopFilter" style="margin-bottom: 20px; display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn" data-stop="Hƒ±rmanlƒ±">Hƒ±rmanlƒ±</button>
        <button class="btn" data-stop="Tisan">Tisan <small>(Yaz)</small></button>
        <button class="btn" data-stop="Akdere">Akdere</button>
        <button class="btn" data-stop="Boƒüsak">Boƒüsak</button>
        <button class="btn" data-stop="Ta≈üucu">Ta≈üucu</button>
      </div>
      <div class="card">
        <div class="two-col" id="twoCol"></div>
        <div class="wrap" style="padding: 0 18px 18px;">
          <div class="legend">‚Ä¢ <b>Direkt</b> etiketli saatler ara duraklara uƒüramaz.</div>
        </div>
      </div>
    </section>

    <section id="ucretler" class="section">
      <h2>√úcret Tarifesi</h2>
      <div class="card" style="padding: 18px;">
        <table class="fare-table" id="fareTable">
          <thead><tr><th>G√ºzerg√¢h</th><th>Tam</th><th>√ñƒürenci</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="iletisim" class="section">
      <h2>ƒ∞leti≈üim Bilgileri</h2>
      <div class="grid" style="gap: 16px;">
          <div class="contact-card"><b>Telefon</b><div>0555 123 45 67</div></div>
          <div class="contact-card"><b>Ye≈üilovacƒ±k Duraƒüƒ±</b><div>Merkez Mah. Atat√ºrk Cad.</div></div>
          <div class="contact-card"><b>Silifke Duraƒüƒ±</b><div>Otogar Yanƒ±</div></div>
      </div>
    </section>
  </main>
  
  <footer>¬© <span id="year"></span> Haskoop Dolmu≈ü Kooperatifi</footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // ====== VERƒ∞ B√ñL√úM√ú ======
      const timetable = {
        yaz: { // Yaz tarifesi
          yesilovacik: { title: 'üöê Ye≈üilovacƒ±k ‚ûú Silifke', periods: [ { icon: 'üåÖ', name: 'Sabah', times: [ {t:'06:20'}, {t:'07:00', badge:true}, {t:'07:30'}, {t:'08:00', badge:true}, {t:'08:30'}, {t:'09:00'}, {t:'10:00'}, {t:'11:00'} ]}, { icon: '‚òÄÔ∏è', name: '√ñƒüle ‚Äì Ak≈üam', times: [ {t:'12:00'}, {t:'13:00', badge:true}, {t:'14:00'}, {t:'15:00', badge:true}, {t:'16:00'}, {t:'17:00', badge:true}, {t:'18:00'}, {t:'19:30', badge:true} ]} ] },
          silifke: { title: 'üèôÔ∏è Silifke ‚ûú Ye≈üilovacƒ±k', periods: [ { icon: 'üåÖ', name: 'Sabah', times: [ {t:'07:30'}, {t:'08:30', badge:true}, {t:'09:30'}, {t:'10:30', badge:true}, {t:'11:30'} ]}, { icon: '‚òÄÔ∏è', name: '√ñƒüle ‚Äì Ak≈üam', times: [ {t:'12:30'}, {t:'13:30', badge:true}, {t:'14:30'}, {t:'15:30', badge:true}, {t:'16:30'}, {t:'17:30', badge:true}, {t:'18:30'}, {t:'20:30', badge:true} ]} ] }
        },
        kis: { // Kƒ±≈ü tarifesi
          yesilovacik: { title: 'üöê Ye≈üilovacƒ±k ‚ûú Silifke', periods: [ { icon: 'üåá', name: 'Sabah', times: [ {t:'07:00', badge:true}, {t:'08:00'}, {t:'09:00', badge:true}, {t:'10:30'}, {t:'11:30', badge:true} ]}, { icon: 'üèôÔ∏è', name: '√ñƒüle ‚Äì Ak≈üam', times: [ {t:'13:00'}, {t:'14:30', badge:true}, {t:'16:00'}, {t:'17:30', badge:true} ]} ] },
          silifke: { title: 'üèôÔ∏è Silifke ‚ûú Ye≈üilovacƒ±k', periods: [ { icon: 'üåá', name: 'Sabah', times: [ {t:'08:00'}, {t:'09:30', badge:true}, {t:'11:00'} ]}, { icon: 'üèôÔ∏è', name: '√ñƒüle ‚Äì Ak≈üam', times: [ {t:'12:30'}, {t:'14:00', badge:true}, {t:'15:30'}, {t:'17:00', badge:true}, {t:'18:30'} ]} ] }
        }
      };
      const fares = [ { route: 'Hƒ±rmanlƒ± / Mesa ‚áÑ Silifke', tam: 120, ogrenci: 110 }, { route: 'Ye≈üilovacƒ±k ‚áÑ Silifke', tam: 100, ogrenci: 90 }, { route: 'Akdere ‚áÑ Silifke', tam: 90, ogrenci: 80 }, { route: 'Boƒüsak ‚áÑ Silifke', tam: 70, ogrenci: 60 }, { route: 'Boƒüsak ‚áÑ Ta≈üucu', tam: 50, ogrenci: 40 } ];
      
      let currentState = { season: 'yaz', stopFilter: null };

      const twoCol = document.getElementById('twoCol');
      const seasonToggle = document.getElementById('seasonToggle');
      const stopFilterContainer = document.getElementById('stopFilter');
      const themeToggle = document.getElementById('themeToggle');

      function renderTimetables() {
        twoCol.innerHTML = '';
        const seasonData = timetable[currentState.season];
        buildColumn(seasonData.yesilovacik); buildColumn(seasonData.silifke);
        applyHighlights(); applyStopFilter();
      }

      function buildColumn(data) {
        const col = document.createElement('div');
        col.className = 'col panel';
        col.innerHTML = `<div class="col-head"><b>${data.title}</b><small>Sonraki sefer vurgulanƒ±r.</small></div>`;
        data.periods.forEach(p => {
          const timesHtml = p.times.map(({t, badge}) => `<li class="time" data-badge="${!!badge}" title="${badge ? `${t} ‚Äì Direkt sefer` : `${t} ‚Äì T√ºm duraklara uƒürar`}"><span class="t">${t}</span>${badge ? '<span class="tag">Direkt</span>' : ''}</li>`).join('');
          col.innerHTML += `<div class="period"><h3>${p.icon} ${p.name}</h3><ul class="time-list">${timesHtml}</ul></div>`;
        });
        twoCol.appendChild(col);
      }

      function applyHighlights() {
        const currentMinutes = new Date().getHours() * 60 + new Date().getMinutes();
        document.querySelectorAll('.col.panel').forEach(col => {
          let nextEl = null, minDiff = Infinity;
          col.querySelectorAll('.time').forEach(el => {
            el.classList.remove('next');
            const [h, m] = el.querySelector('.t').textContent.split(':').map(Number);
            const diff = (h * 60 + m) - currentMinutes;
            if (diff >= 0 && diff < minDiff) { minDiff = diff; nextEl = el; }
          });
          if (nextEl && minDiff <= 120) nextEl.classList.add('next');
        });
      }
      
      function applyStopFilter() {
        document.querySelectorAll('.time').forEach(el => {
          const isDirect = el.dataset.badge === 'true';
          el.classList.toggle('dimmed', currentState.stopFilter && isDirect);
        });
      }

      function buildFares() {
        const tbody = document.querySelector('#fareTable tbody');
        tbody.innerHTML = fares.map(f => `<tr><td>${f.route}</td><td>${f.tam ? `${f.tam} TL` : '‚Äî'}</td><td>${f.ogrenci ? `${f.ogrenci} TL` : '‚Äî'}</td></tr>`).join('');
      }

      function setTheme(theme) {
        document.body.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
      }

      // ====== OLAY Dƒ∞NLEYƒ∞Cƒ∞LERƒ∞ ======
      seasonToggle.addEventListener('click', (e) => {
        const btn = e.target.closest('.segbtn');
        if (!btn) return;
        currentState.season = btn.dataset.season;
        seasonToggle.querySelectorAll('.segbtn').forEach(b => b.setAttribute('aria-pressed', 'false'));
        btn.setAttribute('aria-pressed', 'true');
        renderTimetables();
      });

      stopFilterContainer.addEventListener('click', (e) => {
        const btn = e.target.closest('.btn');
        if (!btn) return;
        const wasActive = btn.getAttribute('aria-pressed') === 'true';
        stopFilterContainer.querySelectorAll('.btn').forEach(b => b.setAttribute('aria-pressed', 'false'));
        if (wasActive) { currentState.stopFilter = null; } 
        else { currentState.stopFilter = btn.dataset.stop; btn.setAttribute('aria-pressed', 'true'); }
        applyStopFilter();
      });

      themeToggle.addEventListener('click', () => {
        const newTheme = document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
      });

      // ====== ƒ∞LK √áALI≈ûTIRMA ======
      function init() {
        const dOpts = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('today').textContent = new Intl.DateTimeFormat('tr-TR', dOpts).format(new Date());
        document.getElementById('year').textContent = new Date().getFullYear();

        const savedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (savedTheme) { setTheme(savedTheme); } 
        else if (systemPrefersDark) { setTheme('dark'); }

        buildFares();
        renderTimetables();
        setInterval(applyHighlights, 60 * 1000);
      }

      init();
    });
  </script>
</body>
</html>
